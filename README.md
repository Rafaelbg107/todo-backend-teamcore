# Todo API - Hexagonal Architecture

A RESTful API for managing todos built with Spring Boot and Hexagonal Architecture principles.

## üöÄ Features

- ‚úÖ **Full CRUD Operations** - Create, Read, Update, Delete todos
- ‚úÖ **Status Management** - Mark todos as completed/pending
- ‚úÖ **Due Date Support** - Set and track due dates
- ‚úÖ **Input Validation** - Bean Validation for request validation
- ‚úÖ **Hexagonal Architecture** - Clean separation of concerns
- ‚úÖ **In-Memory Database** - H2 database for development
- ‚úÖ **RESTful API** - Standard HTTP methods and status codes

## üõ†Ô∏è Technology Stack

- **Java 24**
- **Spring Boot 3.5.5**
- **Spring Data JPA**
- **H2 Database** (In-Memory)
- **Bean Validation**
- **Gradle**

## üìã Prerequisites

- Java 24 or higher
- Gradle (or use the included wrapper)

## üèÉ‚Äç‚ôÇÔ∏è How to Run

### Method 1: Command Line (Recommended)

```bash
# Windows
gradlew.bat bootRun

# Linux/Mac
./gradlew bootRun
```

### Method 2: IDE

1. Open the project in your IDE (IntelliJ IDEA, VS Code, Eclipse)
2. Right-click on `TodoApiApplication.java`
3. Select "Run TodoApiApplication"

### Method 3: Build and Run JAR

```bash
# Build the JAR
gradlew.bat build

# Run the JAR
java -jar build/libs/todo-api-0.0.1-SNAPSHOT.jar
```

## üåê API Endpoints

The API will be available at: `http://localhost:8080`

### Base URL
```
http://localhost:8080/api/todos
```

### Available Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| `POST` | `/api/todos` | Create a new todo |
| `GET` | `/api/todos` | Get all todos |
| `GET` | `/api/todos?completed=true/false` | Get todos by status |
| `GET` | `/api/todos/{id}` | Get todo by ID |
| `PUT` | `/api/todos/{id}` | Update todo |
| `PATCH` | `/api/todos/{id}/complete` | Mark todo as completed |
| `PATCH` | `/api/todos/{id}/pending` | Mark todo as pending |
| `DELETE` | `/api/todos/{id}` | Delete todo |

## üìù API Examples

### Create a Todo

```bash
POST http://localhost:8080/api/todos
Content-Type: application/json

{
  "title": "Complete the assessment",
  "description": "Complete the assessment for the Teamcore process",
  "dueDate": "2025-09-08T08:00:00"
}
```

### Get All Todos

```bash
GET http://localhost:8080/api/todos
```

### Update a Todo

```bash
PUT http://localhost:8080/api/todos/1
Content-Type: application/json

{
  "title": "Complete the assessment - Updated",
  "description": "Complete the Teamcore assessment",
  "dueDate": "2025-09-08T08:00:00"
}
```

### Mark Todo as Completed

```bash
PATCH http://localhost:8080/api/todos/1/complete
```

### Delete a Todo

```bash
DELETE http://localhost:8080/api/todos/1
```

## üóÑÔ∏è Database

### H2 Console

The H2 database console is available at: `http://localhost:8080/h2-console`

**Connection Details:**
- **JDBC URL**: `jdbc:h2:mem:tododb`
- **Username**: `sa`
- **Password**: `password`

### Database Schema

```sql
CREATE TABLE todos (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    completed BOOLEAN NOT NULL,
    due_date TIMESTAMP(6),
    created_at TIMESTAMP(6) NOT NULL,
    updated_at TIMESTAMP(6) NOT NULL,
    PRIMARY KEY (id)
);
```

### Data Persistence

‚ö†Ô∏è **Note**: The application uses an in-memory H2 database with `create-drop` strategy. This means:
- Data persists while the application is running
- All data is lost when the application stops
- Fresh database is created on each restart

## üß™ Testing the API

### Using curl

```bash
# Create a todo
curl -X POST http://localhost:8080/api/todos \
  -H "Content-Type: application/json" \
  -d '{"title":"Test Todo","description":"My first todo","dueDate":"2024-12-31T23:59:59"}'

# Get all todos
curl http://localhost:8080/api/todos

# Get todo by ID
curl http://localhost:8080/api/todos/1

# Update todo
curl -X PUT http://localhost:8080/api/todos/1 \
  -H "Content-Type: application/json" \
  -d '{"title":"Updated Todo","description":"Updated description","dueDate":"2024-12-31T23:59:59"}'

# Mark as completed
curl -X PATCH http://localhost:8080/api/todos/1/complete

# Delete todo
curl -X DELETE http://localhost:8080/api/todos/1
```

### Using Postman

1. Import the following collection or create requests manually
2. Set base URL to: `http://localhost:8080`
3. Use the endpoints listed above

## üèóÔ∏è Hexagonal Architecture Benefits

### 1. **Testability**
- Easy to unit test with mocked dependencies
- Clear separation between business logic and external concerns

### 2. **Flexibility**
- Can swap implementations without changing core logic
- Easy to add new adapters (GraphQL, CLI, etc.)

### 3. **Maintainability**
- Clear separation of concerns
- Business logic is isolated and protected

### 4. **Independence**
- Core logic is framework-agnostic
- Can change databases, web frameworks, or external services easily

## üîß Configuration

### Application Properties

The application is configured via `src/main/resources/application.properties`:

```properties
spring.application.name=Todo API

# H2 Database Configuration
spring.datasource.url=jdbc:h2:mem:tododb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password

# JPA/Hibernate Configuration
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# H2 Console (for development)
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
```

## üìÑ License

This project is licensed under the MIT License.

---

**Happy Coding! üéâ**
